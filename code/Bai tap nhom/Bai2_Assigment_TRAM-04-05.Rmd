---
title: "Bai 2_assigment"
author: "Tram"
date: "2023-04-05"
output: html_document
---

```{r}
rm(list = ls())
install.packages("pacman")
library(pacman)
p_load(tidyverse, rio, here)

```
```{r}
# Q1. Nhập file dữ liệu excel: "covid_df_SeA.xlsx", luu ten file du lieu la "data"
# Q2. Kiem tra du lieu "data". Co bao nhieu quoc gia duoc nhap vao?
# Q3. Kiem tra dinh dang cac bien so. 

data <- import(here("Dataset","covid_df_SeA.xlsx"))

#Q4.Kiểm tra missing. Bien so nao co missing va bao nhieu missing?
# Kiểm tra outliers trong dữ liệu

summary(data)
data_miss <- import(here("Dataset","covid_df_SeA.xlsx"))
summary(data_miss)
hist(data$total_cv_cases)

# Nhóm lại các biến số
## mutate() và case_when()
## VD: Tao ra bien phan loai quoc gia co so luong ca nhiem > 1 tr va <=1 tr

data_clean <- data %>% mutate(cv_case_1m = case_when(total_cv_cases>=1000000 ~ "> 1000000",
total_cv_cases<1000000 ~ "<1000000"))

```
```{r}
# Tao ra bien so "death_case" = so luong ca tu vong trong 10000 ca nhiem 
# Lọc bộ dữ liệu
## Loc cac quoc gia voi so luong ca tu vong/10000 ca nhiem <10  va loai nuoc Timor ra khoi du lieu
## Loc lai bo du lieu voi cac cot gom: ten quoc gia, so ca tu vong, so ca nhiem, so luong ca tu vong/10000 ca nhiem

data_clean <- data_clean %>% mutate(death_case_10k=total_cv_death/population*100000)
data_clean_1 <- data_clean %>% filter(death_case_10k < 10)
data_clean_2 <- data_clean_1 %>% filter(total_cv_death > 11) # Loại Timor
data_clean_3 <- data_clean %>% select(-location, -total_cv_death, -total_cv_cases, -death_case_10k)
```





```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
